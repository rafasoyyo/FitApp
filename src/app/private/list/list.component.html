<div class="mx-2 my-4">
  <p class="text-2xl font-bold my-3">Tus próximas clases</p>
</div>

<div class="flex flex-column gap-3 mx-2">
  @for (item of upcomingLessons(); track (item.date + item.agendaId)) {
  <div class="p-3 border-round-xl border-1 surface-border surface-card shadow-1">
    <div class="flex align-items-center gap-3 mb-3">
      <p-avatar icon="pi pi-calendar" shape="circle" class="flex-shrink-0"
        [pt]="{ root: { class: 'bg-primary-100 text-primary' } }" />
      <div class="flex flex-column">
        <span class="text-lg font-bold capitalize">{{ item.displayDate }}</span>
        <span class="text-xs text-500">{{ item.startHour }} - {{ item.endHour }}</span>
          </div>
        <p-badge [value]="item.members.size.toString()" class="ml-auto" severity="info" />
        </div>
<div class="flex flex-wrap gap-2">
  @for (user of getMemberData(item.members); track user.id) {
  <div class="flex align-items-center gap-2 px-2 py-1 border-round-lg surface-100 border-1 surface-border">
    <div
              class="w-1rem h-1rem border-circle flex align-items-center justify-content-center font-bold text-[8px]"
              [style]="{ backgroundColor: user.bgColor, color: user.color }"
            >
              {{ user.capitalLetter }}
            </div>
            <span class="text-xs font-semibold">{{ user.name }} {{ user.id === loggedUser()?.id ? '(Tú)' : '' }}</span>
            </div>
        }
        </div>
        </div>
  } @empty {
    <div class="flex flex-column align-items-center gap-3 p-8">
      <i class="pi pi-calendar-times text-5xl text-300"></i>
      <span class="text-xl text-center text-600 font-medium">No hay clases activas próximas.</span>
      <p-button label="Ver Calendario" [routerLink]="['/calendar']" severity="help" size="small" />
      </div>
  }
</div>
